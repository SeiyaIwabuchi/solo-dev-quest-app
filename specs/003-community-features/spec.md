# Feature Specification: Phase 2 コミュニティ機能

**Feature Branch**: `003-community-features`  
**Created**: 2025-11-01  
**Status**: Draft  
**Input**: User description: "Phase 2: コミュニティ機能"

## Clarifications

### Session 2025-11-04

- Q: 大量の質問が投稿された場合の検索・フィルタリング実装方式はどうしますか? → A: データベースコレクション分離 + インデックス最適化(Firestoreの複合インデックスを活用し、カテゴリ・日付・評価スコアなどの複数条件での高速検索を実現)
- Q: 不適切コンテンツ(スパム・誹謗中傷)が報告された場合の処理フローとタイミングはどうしますか? → A: 報告後24時間以内に管理者が審査・削除判定、承認後にソフト削除(7日後完全削除)
- Q: 外部SNS API(X/Threads/Instagram)のレート制限に達した場合のタイムライン取得の最大リクエスト頻度はどうしますか? → A: 1時間で500リクエスト(標準、バランス型)
- Q: SNS API レート制限到達時、タイムラインの表示動作はどうしますか? → A: キャッシュデータを表示(最大5分前)、手動更新ボタンで再試行可能
- Q: ベストアンサー選択後に質問者がアカウントを削除した場合、回答者の報酬(追加15 DevCoin)はどう扱いますか? → A: 報酬は維持し、質問・回答も通常通り表示(質問者名のみ「削除済みユーザー」)
- Q: DevCoin残高の不足により質問投稿トランザクションが失敗した場合(投稿ボタン押下後にネットワーク遅延等で他のユーザーが先にDevCoinを消費し残高が10未満になった)、ユーザーへの通知とリカバリー動作はどうしますか? → A: トランザクション自動ロールバックとリトライ不可(ユーザーは新たに投稿操作をやり直す必要がある)
- Q: 外部SNS(X/Threads/Instagram)の1つ以上がAPI障害やメンテナンスで完全に利用不可になった場合、ハッシュタグタイムラインの表示動作はどうしますか? → A: 利用可能なSNSの投稿のみを表示し、障害中のSNSには「現在X(Twitter)からの投稿を取得できません」等の通知バナーを表示
- Q: プレミアムプラン決済が失敗した場合(カード期限切れ、残高不足等)、特典の停止タイミングと再試行の猶予期間はどうしますか? → A: 決済失敗から7日間の猶予期間中は特典を維持し、その間に再試行を促す通知を送信。7日経過後に特典停止
- Q: オフライン時(ネットワーク接続なし)にユーザーが質問・回答の閲覧を試みた場合、アプリの動作はどうしますか? → A: 最近閲覧したコンテンツ(過去24時間以内に閲覧したページ)をローカルキャッシュから表示し、新規取得が必要な操作には「オフラインです」メッセージを表示
- Q: 同じユーザーが短時間に同じ質問を複数回投稿しようとした場合(重複投稿防止)、システムの制限方式はどうしますか? → A: 同一タイトルの質問は5分以内に1回まで。再投稿試行時には「同じ質問を最近投稿しました。編集する場合は質問詳細画面から編集してください」メッセージを表示

## User Scenarios & Testing *(mandatory)*

<!--
  CONSTITUTION ALIGNMENT (Principle I & II):
  - すべてのユーザーストーリーは「モチベーション維持」「孤独感解消」「知識不足解決」のいずれかに貢献すること
  - P1ストーリーはMVP（Phase 2）で実装可能な範囲に限定すること
  - 各ストーリーは独立して価値を提供し、Phase間の依存を最小化すること
-->

### User Story 1 - 技術的質問の投稿と閲覧 (Priority: P1)

開発者は開発中に技術的な壁に直面した際、Q&Aプラットフォームに質問を投稿し、他の開発者からの回答を得ることができる。質問投稿にはDevCoinを消費するが、過去の質問・回答は誰でも無料で閲覧できる。

**Why this priority**: 「知識不足解決」という3大課題の1つを直接解決する機能。コミュニティの基盤となる最重要機能。

**Independent Test**: DevCoinを持つユーザーが質問を投稿し、他のユーザーがその質問を閲覧できることを確認することで、独立して価値を提供する。

**Acceptance Scenarios**:

1. **Given** ユーザーが10 DevCoin以上を所持している、**When** Q&Aプラットフォームで技術的な質問を投稿する、**Then** 10 DevCoinが消費され質問が公開される
2. **Given** 質問が投稿されている、**When** 他のユーザーが質問一覧を閲覧する、**Then** 最新の質問から順に表示され、タイトル・投稿者・投稿日時・回答数が確認できる
3. **Given** ユーザーがDevCoinを所持していない、**When** 質問を投稿しようとする、**Then** DevCoin不足のメッセージが表示され、購入または獲得方法が案内される
4. **Given** 質問の詳細画面を表示している、**When** 質問内容と回答を閲覧する、**Then** 質問本文・コード例・回答リスト・評価が表示される

---

### User Story 2 - 質問への回答と報酬獲得 (Priority: P1)

開発者は他の開発者の技術的質問に回答することで、DevCoinを獲得し、コミュニティに貢献できる。回答が質問者に採用されると追加報酬を得られる。

**Why this priority**: Q&Aプラットフォームの双方向性を確立し、回答者のモチベーション維持に貢献する。質問投稿と同等に重要。

**Independent Test**: ユーザーが既存の質問に回答を投稿し、DevCoinを獲得できることを確認することで独立して価値を提供する。

**Acceptance Scenarios**:

1. **Given** 未回答の質問が存在する、**When** ユーザーが回答を投稿する、**Then** 回答が公開され、回答者に5 DevCoin（無料）が付与される
2. **Given** 質問に複数の回答が投稿されている、**When** 質問者が最も役立った回答を「ベストアンサー」として選択する、**Then** その回答者に追加で15 DevCoin（無料）が付与される
3. **Given** ユーザーが回答を投稿した、**When** 他のユーザーがその回答を評価する（役立った/役立たなかった）、**Then** 評価が記録され、回答の信頼性スコアに反映される
4. **Given** 回答が既にベストアンサーに選ばれている質問に、**When** 新たな回答を投稿する、**Then** 回答は投稿できるがベストアンサーは変更できない

---

### User Story 3 - ハッシュタグタイムラインの閲覧 (Priority: P2)

開発者は特定のハッシュタグ（例：#個人開発チャレンジ）が付いた外部SNS（X/Threads/Instagram）の投稿をアプリ内で閲覧し、他の開発者の進捗や活動を知ることができる。

**Why this priority**: 「孤独感解消」に貢献し、コミュニティの一体感を醸成する。P1機能の基盤上で追加価値を提供。

**Independent Test**: 指定ハッシュタグの投稿がアプリ内タイムラインに表示されることを確認することで独立して価値を提供する。

**Acceptance Scenarios**:

1. **Given** 外部SNSに#個人開発チャレンジ付き投稿が存在する、**When** ユーザーがハッシュタグタイムラインを開く、**Then** 最新の投稿から順に表示される（公開アカウントのみ）
2. **Given** タイムラインに投稿が表示されている、**When** 各投稿を閲覧する、**Then** 投稿者名・アイコン・本文・画像/動画・投稿日時・元SNS種別が表示される
3. **Given** 鍵付きアカウントの投稿が存在する、**When** タイムラインを更新する、**Then** 鍵付き投稿は表示されない（公開投稿のみフィルタリング）
4. **Given** 複数のSNS（X/Threads/Instagram）に投稿が存在する、**When** タイムラインを閲覧する、**Then** すべてのSNSの投稿が統合され、時系列順に表示される

---

### User Story 4 - アプリ内からのSNSインタラクション (Priority: P2)

開発者はアプリ内のタイムラインから直接、外部SNSの投稿にいいね・リツイート・コメントができる。アプリを離れることなくコミュニティと交流できる。

**Why this priority**: タイムラインの閲覧だけでなく、能動的な交流を可能にし、孤独感解消を強化する。

**Independent Test**: アプリ内からSNS投稿にいいねを実行し、実際のSNSに反映されることを確認することで独立して価値を提供する。

**Acceptance Scenarios**:

1. **Given** ユーザーが外部SNSアカウントを連携済み、**When** タイムラインの投稿に「いいね」ボタンを押す、**Then** 元SNSのAPI経由でいいねが実行され、ボタンの表示が変更される
2. **Given** X（Twitter）の投稿を閲覧している、**When** 「リツイート」ボタンを押す、**Then** リツイート確認ダイアログが表示され、実行後に元SNSに反映される
3. **Given** 投稿にコメントを付けたい、**When** 「コメント」ボタンを押してテキストを入力し送信、**Then** 元SNSのAPI経由でコメントが投稿される
4. **Given** SNSアカウント未連携、**When** いいね・リツイート・コメントを試みる、**Then** SNSアカウント連携を促すダイアログが表示される

---

### User Story 5 - 質問・回答の検索とフィルタリング (Priority: P2)

開発者は過去の質問・回答をキーワード検索やカテゴリフィルタで絞り込み、自分の課題に関連するナレッジを素早く見つけられる。

**Why this priority**: Q&Aプラットフォームのナレッジベースとしての価値を高め、知識不足解決を効率化する。

**Independent Test**: キーワード検索で関連質問が表示されることを確認することで独立して価値を提供する。

**Acceptance Scenarios**:

1. **Given** 多数の質問が投稿されている、**When** ユーザーがキーワード（例：「Firebase認証」）で検索する、**Then** タイトルまたは本文にキーワードを含む質問が表示される
2. **Given** 質問にカテゴリタグが付与されている、**When** ユーザーが特定カテゴリ（例：「Flutter」「Firebase」）でフィルタする、**Then** そのカテゴリの質問のみが表示される
3. **Given** 検索結果が表示されている、**When** ユーザーがソート順を変更する（最新順/回答数順/評価順）、**Then** 指定順序で質問が再表示される
4. **Given** ユーザーが検索を実行した、**When** 該当する質問が見つからない、**Then** 「該当する質問がありません」メッセージと新規質問投稿への誘導が表示される

---

### User Story 6 - コメント・応援機能 (Priority: P3)

開発者は他の開発者の質問や回答、SNS投稿にコメントや応援メッセージを送り、コミュニティで励まし合える。テンプレート化されたコメントで気軽に参加できる。

**Why this priority**: コミュニティの温かみを醸成し、孤独感解消をさらに強化する。P1-P2機能の基盤があれば追加実装可能。

**Independent Test**: 質問や回答にコメントを投稿し、他のユーザーが閲覧できることを確認することで独立して価値を提供する。

**Acceptance Scenarios**:

1. **Given** 質問または回答を閲覧している、**When** ユーザーが「コメント」ボタンを押す、**Then** コメント入力欄とテンプレート選択UI（「頑張ってください！」「参考になりました」等）が表示される
2. **Given** コメント入力欄が開いている、**When** テンプレートを選択またはカスタムテキストを入力して送信、**Then** コメントが投稿され、質問/回答の下部に表示される
3. **Given** 質問または回答にコメントが付いている、**When** 元の投稿者がコメントを閲覧する、**Then** 通知が届き、コメント内容と投稿者が確認できる
4. **Given** ユーザーが他の開発者の進捗投稿を見ている、**When** 「応援する」ボタンを押す、**Then** 応援アイコンが記録され、投稿者に通知が届く

---

### User Story 7 - プレミアムプラン導入 (Priority: P3)

開発者は月額680円のプレミアムプランに加入することで、AI機能無制限・広告なし・毎月DevCoinボーナスなどの特典を得られる。

**Why this priority**: マネタイズ基盤を確立し、サービスの持続可能性を担保する。コミュニティ機能の価値が確立された後に導入。

**Independent Test**: プレミアムプランに加入し、広告が非表示になり毎月DevCoinが付与されることを確認することで独立して価値を提供する。

**Acceptance Scenarios**:

1. **Given** 無料ユーザーがアプリを使用している、**When** プレミアムプラン案内画面を開く、**Then** 特典内容（AI無制限/広告なし/月200 DevCoin等）と価格（月額680円）が表示される
2. **Given** プレミアムプラン購入画面を開いている、**When** 購入ボタンを押して決済を完了する、**Then** アカウントがプレミアム会員にアップグレードされ、特典が即座に適用される
3. **Given** プレミアム会員である、**When** AI相談チャットや仮想クライアント機能を使用する、**Then** DevCoin消費なしで無制限に利用できる
4. **Given** プレミアム会員である、**When** 毎月の更新日を迎える、**Then** 200 DevCoin（無料扱い）がアカウントに自動付与される
5. **Given** プレミアム会員である、**When** サブスクリプションをキャンセルする、**Then** 現在の請求期間終了まで特典が維持され、その後無料プランに戻る

---

### Edge Cases

- **質問投稿中にDevCoinが不足した場合**: Firestoreトランザクション機能により自動ロールバックし、エラーメッセージを表示。ユーザーは新たに投稿操作をやり直す必要がある(投稿内容は保持されない)
- **重複質問投稿の防止**: 同一タイトルの質問は5分以内に1回まで。再投稿試行時には「同じ質問を最近投稿しました。編集する場合は質問詳細画面から編集してください」メッセージを表示し、編集機能へ誘導
- **ベストアンサー選択後に質問者がアカウントを削除した場合**: 回答者の報酬(追加15 DevCoin)は維持され、質問・回答も通常通り表示される。質問者名のみ「削除済みユーザー」と表示される
- **外部SNS APIがレート制限に達した場合**: キャッシュされたデータ(最大5分前)を表示し、手動更新ボタンで再試行可能にする。レート制限は1時間あたり500リクエストを上限とする
- **外部SNS API障害時**: 利用可能なSNSの投稿のみを表示し、障害中のSNSには通知バナー(例:「現在X(Twitter)からの投稿を取得できません」)を表示
- SNSアカウント連携を解除した後、過去のいいね・リツイートはどう扱われるか?
- **不適切なコンテンツ(スパム、誹謗中傷等)を含む質問・回答・コメントの報告と削除**: 報告後24時間以内に管理者が審査・削除判定を行い、承認後にソフト削除(7日後に完全削除)
- **プレミアムプラン決済が失敗した場合(カード期限切れ、残高不足等)**: 決済失敗から7日間の猶予期間中は特典を維持し、その間に再試行を促す通知を送信。7日経過後に特典停止
- **大量の質問が投稿された場合の検索・フィルタリングのパフォーマンス**: Firestoreの複合インデックスを活用したデータベースコレクション分離により、カテゴリ・日付・評価スコアなどの複数条件での高速検索を保証する
- **オフライン時の動作**: 最近閲覧したコンテンツ(過去24時間以内)をローカルキャッシュから表示。検索・新規投稿など新規取得が必要な操作には「オフラインです」メッセージを表示

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: システムは、ユーザーが10 DevCoinを消費して技術的な質問を投稿できる機能を提供しなければならない
- **FR-002**: システムは、投稿された質問を一覧表示し、タイトル・投稿者・投稿日時・回答数・カテゴリタグを表示しなければならない
- **FR-003**: システムは、ユーザーが質問に回答すると5 DevCoin（無料）を付与し、ベストアンサーに選ばれた場合は追加で15 DevCoin（無料）を付与しなければならない
- **FR-004**: システムは、質問者が回答の中から1つをベストアンサーとして選択できる機能を提供しなければならない（選択後は変更不可）
- **FR-005**: システムは、回答に対する評価（役立った/役立たなかった）を記録し、信頼性スコアを計算しなければならない
- **FR-006**: システムは、特定のハッシュタグ（例：#個人開発チャレンジ）が付いた外部SNS（X/Threads/Instagram）の投稿を収集し、アプリ内タイムラインに時系列順で表示しなければならない（公開アカウントのみ）
- **FR-007**: システムは、ユーザーが外部SNSアカウントを連携し、アプリ内から投稿にいいね・リツイート・コメントできる機能を提供しなければならない
- **FR-008**: システムは、質問・回答をキーワード検索およびカテゴリフィルタで絞り込める機能を提供しなければならない
- **FR-009**: システムは、検索結果を最新順・回答数順・評価順でソートできる機能を提供しなければならない
- **FR-010**: システムは、質問・回答・SNS投稿にコメントを投稿できる機能を提供し、テンプレート化されたコメント（「頑張ってください！」「参考になりました」等）を選択可能にしなければならない
- **FR-011**: システムは、他の開発者の投稿に「応援する」アクションを実行でき、投稿者に通知が届く機能を提供しなければならない
- **FR-012**: システムは、月額680円のプレミアムプランを提供し、特典（AI機能無制限/広告なし/月200 DevCoin付与）を適用しなければならない
- **FR-013**: システムは、プレミアムプラン加入時に即座に特典を有効化し、サブスクリプションキャンセル後は請求期間終了まで特典を維持しなければならない
- **FR-014**: システムは、不適切なコンテンツ（スパム・誹謗中傷等）を報告する機能を提供し、報告後24時間以内に管理者が審査・削除判定を行い、承認後にソフト削除（7日後完全削除）しなければならない
- **FR-015**: システムは、同一タイトルの質問を5分以内に1回までに制限し、再投稿試行時には「同じ質問を最近投稿しました。編集する場合は質問詳細画面から編集してください」メッセージを表示して編集機能へ誘導しなければならない
- **FR-016**: システムは、質問検索・フィルタリング機能においてFirestoreの複合インデックスを活用し、カテゴリ・日付・評価スコアなどの複数条件での高速検索を提供しなければならない
- **FR-017**: システムは、外部SNS APIへのリクエスト頻度を1時間あたり500リクエスト以内に制限し、レート制限到達時にはキャッシュデータ（最大5分前）を表示し手動更新を可能にしなければならない
- **FR-018**: システムは、ベストアンサー選択後に質問者がアカウント削除した場合でも回答者の報酬(15 DevCoin)を維持し、質問・回答を通常通り表示（質問者名は「削除済みユーザー」）しなければならない

### Non-Functional Requirements

- **NFR-001 (Performance)**: 質問検索・フィルタリング機能は、10,000件の質問データに対して2秒以内にレスポンスを返さなければならない
- **NFR-002 (Scalability)**: Firestoreの複合インデックス設計により、質問数が100,000件に達した場合でも検索パフォーマンスが3秒以内を維持しなければならない
- **NFR-003 (Reliability)**: 外部SNS APIの障害時でも、利用可能なSNSの投稿を表示し続け、障害中のSNSには通知バナー(例:「現在X(Twitter)からの投稿を取得できません」)を表示することで95%以上のタイムライン閲覧リクエストに応答しなければならない
- **NFR-004 (Rate Limiting)**: 外部SNS APIへのリクエスト頻度を1時間あたり500リクエスト以内に制限し、API利用コストを最適化しなければならない
- **NFR-005 (Data Retention)**: 不適切コンテンツのソフト削除から完全削除まで7日間の猶予期間を設け、誤報告への復旧可能性を担保しなければならない
- **NFR-006 (Moderation)**: コンテンツ報告から管理者審査完了までの時間を平均24時間以内に抑え、コミュニティの健全性を維持しなければならない
- **NFR-007 (Offline Experience)**: オフライン時でも、過去24時間以内に閲覧したコンテンツをローカルキャッシュから表示し、90%以上の閲覧リクエストに応答しなければならない

### Key Entities

- **Question（質問）**: タイトル、本文、コード例、投稿者ID、投稿日時、カテゴリタグ、回答数、閲覧数、削除ステータス（通常/ソフト削除/完全削除）、削除予定日時
- **Answer（回答）**: 本文、回答者ID、投稿日時、質問ID、ベストアンサーフラグ、評価スコア（役立った数/役立たなかった数）、削除ステータス（通常/ソフト削除/完全削除）、削除予定日時
- **Comment（コメント）**: 本文、投稿者ID、投稿日時、対象ID（質問ID or 回答ID）、テンプレート種別、削除ステータス（通常/ソフト削除/完全削除）
- **ContentReport（コンテンツ報告）**: 報告者ID、対象ID（質問/回答/コメントID）、対象種別、報告理由、報告日時、審査ステータス（未審査/承認/却下）、審査日時、審査者ID
- **HashtagPost（ハッシュタグ投稿）**: SNS種別（X/Threads/Instagram）、投稿ID、投稿者名、アイコンURL、本文、画像/動画URL、投稿日時、元投稿URL、キャッシュ日時
- **SNSInteraction（SNSインタラクション）**: アクション種別（いいね/リツイート/コメント）、実行ユーザーID、対象投稿ID、実行日時
- **APIRateLimit（APIレート制限）**: API種別（X/Threads/Instagram）、時間窓開始時刻、リクエスト数、上限値（デフォルト500/時）
- **PremiumSubscription（プレミアムサブスクリプション）**: ユーザーID、プラン種別（プレミアム/スーパープレミアム）、開始日、次回更新日、ステータス（有効/キャンセル済み/期限切れ/決済失敗猶予中）、決済失敗日時、猶予期限（決済失敗日+7日）

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: Q&Aプラットフォームで投稿された質問の80%以上が48時間以内に少なくとも1つの回答を獲得する
- **SC-002**: ハッシュタグタイムラインは1日あたり最低50件の新規投稿を表示し、ユーザーの70%以上が週1回以上閲覧する
- **SC-003**: プレミアムプランのコンバージョン率が月間アクティブユーザーの5%以上を達成する
- **SC-004**: ユーザーは質問投稿から回答閲覧までの一連の操作を3分以内に完了できる
- **SC-005**: 検索機能により、ユーザーの90%以上が求める質問を3回以内の検索で発見できる
- **SC-006**: コメント・応援機能により、ユーザー間のインタラクション数（コメント+応援）が週あたり平均100件以上発生する
- **SC-007**: 不適切コンテンツの報告から削除までの処理時間が平均24時間以内である

## Assumptions *(mandatory)*

- **A-001**: 外部SNS API（X API, Threads API, Instagram Graph API）は利用可能であり、ハッシュタグ検索とアクション実行が可能である（技術的実装可能性はPoC検証済み前提）
- **A-002**: プレミアムプラン決済にはアプリ内課金（App Store/Google Play）を使用し、サブスクリプション管理はプラットフォーム標準に従う
- **A-003**: ユーザー認証（Phase 0, 001-user-auth）とタスク管理（Phase 0, 002-task-management）は既に実装済みである
- **A-004**: DevCoin残高管理とトランザクション処理の基盤（Phase 1）は既に実装済みである
- **A-005**: 不適切コンテンツの自動検知は初期実装には含まれず、ユーザー報告ベースで運用する

## Dependencies *(mandatory)*

- **D-001**: 001-user-auth（ユーザー認証）- 質問・回答の投稿者識別とSNSアカウント連携に必要
- **D-002**: 002-task-management（タスク管理）- DevCoin獲得の前提となるタスク完了機能に依存
- **D-003**: Phase 1 DevCoin購入機能 - 質問投稿に必要なDevCoinの購入手段に依存
- **D-004**: Firebase Firestore - 質問・回答・コメントのデータ永続化に使用
- **D-005**: Firebase Cloud Functions - 外部SNS API呼び出しとDevCoinトランザクション処理に使用
- **D-006**: アプリ内課金SDK（App Store/Google Play Billing） - プレミアムプラン決済処理に必要

## Out of Scope

- **OOS-001**: AI自動回答生成（ユーザーの質問に対してAIが自動で回答する機能） - Phase 3以降に検討
- **OOS-002**: スーパープレミアムプラン（月額1,480円） - Phase 4で導入予定
- **OOS-003**: 質問・回答の多言語翻訳機能 - 将来的な国際展開時に検討
- **OOS-004**: ビデオ通話でのメンタリング機能 - Phase 4以降に検討
- **OOS-005**: 質問・回答の編集履歴表示 - 初期実装では最新版のみ表示
- **OOS-006**: ユーザー間のダイレクトメッセージ機能 - セキュリティ・モデレーション体制確立後に検討
- **OOS-007**: 外部SNS投稿のスケジュール予約機能 - Phase 3以降に検討

## Notes

- **NOTE-001**: ハッシュタグタイムライン機能は外部SNS APIの仕様変更リスクがあるため、PoC（Proof of Concept）検証を優先実施し、技術的実現可能性を確認する必要がある。APIレート制限は1時間500リクエストを上限とし、キャッシュ戦略（最大5分）で対応する
- **NOTE-002**: 不適切コンテンツのモデレーションは運用負荷が高いため、初期はユーザー報告ベースで対応し、将来的にAI自動検知を導入予定。報告後24時間以内の管理者審査、承認後のソフト削除（7日後完全削除）フローを採用
- **NOTE-003**: プレミアムプラン特典の「毎月200 DevCoin」は無料扱いとして付与され、有効期限はない（有料DevCoinとは別管理）
- **NOTE-004**: SNSアカウント連携時のOAuth認証フローは各SNSプラットフォームのガイドラインに準拠する必要がある
- **NOTE-005**: 質問検索・フィルタリング機能はFirestoreの複合インデックス（カテゴリ・日付・評価スコア等）を活用し、数万件規模でも高速検索を実現する設計とする
- **NOTE-006**: ベストアンサー報酬の不正取得を防ぐため、質問者アカウント削除後も報酬は維持し、質問・回答データは「削除済みユーザー」として匿名化表示する
